@use 'utilities' as *;

@forward 'typography';
@forward 'fonts';
@forward 'links';



// Variables and layout.
body {
	@extend %font--verdana;
	@extend %typography--layout;

	--typography--size--floor:   14;
	--typography--size--middle:  18;
	--typography--size--ceiling: 22;

	--typography--leading: 1.8;
	--typography--size:    var(--typography--size--floor);

	--color--slate: #4a525a;
	--color--white: white;

	--color:             var(--color--white);
	--color--background: var(--color--slate);

	--color--active:  hsl(0, 0%, 100%, 10%);

	--link--enlargement: var(--typography--x);
	--link--outline:     2px;

	background-color: var(--color--slate);
	color:            var(--color--white);
	padding:          var(--typography--lead);

	@include legacy {
		// Scale down for legacy devices, based on the viewport.
		--typography--factor: 1; // With the unit already in the calc.
		--typography--size:   calc(var(--typography--size--floor) / #{ $legacy-threshold } * 100vw);
	}

	@include width(768) {
		// Start scaling up type when there is room.
		--typography--factor: 1;
		--typography--size:   clamp(
														calc(var(--typography--size--floor) * 0.1rem),
														calc(var(--typography--size--floor) / 768 * 100vw),
														calc(var(--typography--size--middle) * 0.1rem)
													);
	}

	@include width(1080) {
		@include tall {
			// Further on tall screens, based on height.
			--typography--factor: 1;
			--typography--size:   clamp(
															calc(var(--typography--size--middle) * 0.1rem),
															calc(var(--typography--size--middle) / 900 * 100vh),
															calc(var(--typography--size--ceiling) * 0.1rem)
														);
		}
	}



	#Main {
		// Preserve existing (default size) wrapping.
		--legacy--column: 425;
		--legacy--type:   12;

		max-width: calc(var(--legacy--column) / var(--legacy--type) * 1em);
	}
}



// Temporary stuff.
#Banner, #Sidebar { display: none }
